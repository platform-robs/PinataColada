<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pi√±ata Colada | Pi√±atas personalizadas en Irapuato</title>

  <!-- Tipograf√≠a -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg: #0b0b0f;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.08);
      --border: rgba(255,255,255,.12);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);

      --pink: #ff4fa6;
      --yellow: #ffd84a;
      --cyan: #41f1ff;

      --shadow: 0 20px 60px rgba(0,0,0,.35);
      --radius: 22px;
    }

    *{ box-sizing: border-box; }
    html, body{ margin:0; padding:0; background: radial-gradient(1200px 700px at 30% 10%, rgba(255,79,166,.16), transparent 60%),
                                      radial-gradient(1200px 700px at 70% 20%, rgba(255,216,74,.12), transparent 55%),
                                      radial-gradient(1000px 600px at 50% 90%, rgba(65,241,255,.08), transparent 60%),
                                      var(--bg);
                color: var(--text);
                font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
                overflow-x: hidden;
    }

    a{ color: inherit; text-decoration: none; }
    img{ max-width: 100%; display:block; }

    .container{
      width: min(1100px, 92vw);
      margin: 0 auto;
    }

    /* ==========================================================
       HEADER / NAV
       ========================================================== */
    header{
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(11,11,15,.72);
      backdrop-filter: blur(16px);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }

    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 14px;
      padding: 12px 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
    }

    .brand-logo{
      width: 48px;
      height: 48px;
      border-radius: 14px;
      object-fit: cover;
      box-shadow: 0 10px 24px rgba(0,0,0,.25);
      border: 1px solid rgba(255,255,255,.12);
    }

    .nav-links{
      display:none;
      gap: 18px;
      align-items:center;
      font-weight: 800;
      color: rgba(255,255,255,.82);
    }

    .nav-links a{
      opacity: .9;
      transition: .2s;
    }
    .nav-links a:hover{ opacity: 1; transform: translateY(-1px); }

    .nav-cta{
      display:flex;
      gap: 10px;
      align-items:center;
    }

    /* ==========================================================
       BOTONES (CORREGIDOS: largos, no gordos)
       ========================================================== */
    .btn{
      border: 0;
      cursor:pointer;
      font-weight: 900;
      letter-spacing: .2px;
      border-radius: 999px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      padding: 12px 16px;
      min-height: 44px; /* altura correcta mobile */
      line-height: 1;
      transition: transform .12s ease, opacity .12s ease;
      user-select: none;
      white-space: nowrap;
    }

    .btn svg{ width: 18px; height: 18px; }

    .btn:active{ transform: scale(.98); }

    .btn-primary{
      background: linear-gradient(135deg, var(--yellow), var(--pink));
      color: #111;
      box-shadow: 0 18px 50px rgba(255,79,166,.20);
    }

    .btn-ghost{
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.14);
      color: #fff;
    }

    .menu-btn{
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.14);
      color: #fff;
      border-radius: 16px;
      padding: 10px 12px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      min-height: 44px;
      min-width: 44px;
    }
    .menu-btn svg{ width: 22px; height: 22px; fill: #fff; }

    /* Men√∫ m√≥vil */
    .mobile-nav{
      display:none;
      padding: 12px 0 16px;
      border-top: 1px solid rgba(255,255,255,.08);
    }
    .mobile-nav.open{ display:block; }

    .mobile-links{
      display:flex;
      flex-direction:column;
      gap: 8px;
    }
    .mobile-links a{
      padding: 12px 14px;
      border-radius: 16px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.08);
      display:flex;
      align-items:center;
      justify-content:space-between;
      font-weight: 900;
    }

    .mobile-cta{
      margin-top: 10px;
      display:flex;
      flex-direction:column;
      gap: 10px;
    }
    .mobile-cta .btn{ width: 100%; }

    /* Desktop */
    @media (min-width: 900px){
      .nav-links{ display:flex; }
      .menu-btn{ display:none; }
      .mobile-nav{ display:none !important; }
    }

    /* ==========================================================
       HERO
       ========================================================== */
    .hero{
      padding: 26px 0 16px;
    }

    .hero-grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 18px;
      align-items:center;
    }

    .logo-wrap{
      display:flex;
      align-items:center;
      justify-content:center;
      padding-top: 8px;
    }

    .logo-inner{
      width: 120px;
      height: 120px;
      border-radius: 30px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: var(--shadow);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    .logo-img{
      width: 92px;
      height: 92px;
      object-fit: contain;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.3));
    }

    .hit{
      animation: pinataHit 3s ease-in-out infinite;
      transform-origin: top center;
    }

    @keyframes pinataHit{
      0%, 100%{ transform: rotate(0deg) translateY(0); }
      50%{ transform: rotate(-3deg) translateY(2px); }
    }

    .kicker{
      font-weight: 800;
      color: rgba(255,255,255,.78);
      font-size: 13px;
      letter-spacing: .3px;
    }

    h1{
      margin: 10px 0 10px;
      font-size: clamp(26px, 6vw, 44px);
      line-height: 1.05;
      font-weight: 900;
    }

    .lead{
      margin: 0;
      color: rgba(255,255,255,.80);
      line-height: 1.65;
      font-weight: 600;
      font-size: 15px;
    }

    .highlight-brand{
      font-weight: 900;
      background: linear-gradient(135deg, var(--pink), var(--yellow));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 10px rgba(255,79,166,.25), 0 0 20px rgba(255,216,74,.12);
    }

    .highlight-magic{
      font-weight: 900;
      background: linear-gradient(135deg, var(--cyan), var(--yellow));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .hero-actions{
      margin-top: 16px;
      display:flex;
      flex-direction:column;
      gap: 10px;
    }
    .hero-actions .btn{ width: 100%; }

    .hero-badges{
      margin-top: 14px;
      display:flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .badge{
      font-weight: 800;
      font-size: 12px;
      padding: 9px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.82);
    }

    @media (min-width: 900px){
      .hero{ padding: 54px 0 20px; }
      .hero-grid{
        grid-template-columns: 1.1fr 1fr;
        gap: 26px;
      }
      .logo-wrap{ justify-content:flex-start; }
      .hero-actions{
        flex-direction:row;
      }
      .hero-actions .btn{ width: auto; }
    }

    /* ==========================================================
       SECCIONES
       ========================================================== */
    section{
      padding: 34px 0;
    }

    .section-title{
      display:flex;
      flex-direction:column;
      gap: 8px;
      margin-bottom: 18px;
    }

    .section-title p{
      margin:0;
      color: rgba(255,255,255,.70);
      font-weight: 650;
      line-height: 1.5;
    }

    .section-title-highlight{
      margin:0;
      font-size: 22px;
      font-weight: 950;
      letter-spacing: -.3px;
      background: linear-gradient(135deg, var(--yellow), var(--pink));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* ==========================================================
       TAMA√ëOS (CARDS)
       ========================================================== */
    .grid-3{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }

    .card{
      border-radius: var(--radius);
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 18px 60px rgba(0,0,0,.28);
      overflow:hidden;
      padding: 16px;
    }

    .size-row{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 12px;
    }

    .size-name{
      margin:0;
      font-size: 18px;
      font-weight: 950;
    }

    .size-sub{
      margin: 6px 0 0;
      color: rgba(255,255,255,.72);
      font-weight: 650;
      line-height: 1.45;
      font-size: 13px;
    }

    .pinata-icon{
      width: 52px;
      height: 52px;
      border-radius: 18px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      display:flex;
      align-items:center;
      justify-content:center;
      flex-shrink: 0;
    }

    .toggle{
      margin-top: 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      padding: 12px 14px;
      border-radius: 18px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.08);
      font-weight: 900;
      cursor:pointer;
      user-select:none;
      color: rgba(255,255,255,.86);
    }
    .toggle span{ opacity:.65; font-weight: 750; }

    .price{
      display:none;
      margin-top: 12px;
      padding: 14px;
      border-radius: 18px;
      background: rgba(0,0,0,.20);
      border: 1px solid rgba(255,255,255,.08);
      color: rgba(255,255,255,.78);
      font-weight: 650;
      line-height: 1.6;
    }

    .card.open .price{ display:block; }

    @media (min-width: 900px){
      .grid-3{ grid-template-columns: repeat(3, 1fr); }
    }

    .note{
      margin-top: 16px;
      text-align:center;
      padding: 14px 14px;
      border-radius: 20px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.74);
      font-weight: 700;
      line-height: 1.6;
    }

    /* ==========================================================
       GALER√çA (MARQUEE)
       ========================================================== */
    .carousel-wrap{
      display:flex;
      flex-direction:column;
      gap: 14px;
    }

    .marquee{
      overflow:hidden;
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      box-shadow: 0 18px 60px rgba(0,0,0,.22);
      padding: 10px 0;
    }

    .track{
      display:flex;
      gap: 12px;
      padding: 0 12px;
      width: max-content;
    }

    .shot{
      width: 190px;
      height: 140px;
      border-radius: 18px;
      overflow:hidden;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      flex-shrink: 0;
    }

    .shot img{
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    @keyframes scrollLeft{
      0%{ transform: translateX(0); }
      100%{ transform: translateX(-50%); }
    }
    @keyframes scrollRight{
      0%{ transform: translateX(-50%); }
      100%{ transform: translateX(0); }
    }

    #trackLeft{
      animation: scrollLeft 28s linear infinite;
    }

    #trackRight{
      animation: scrollRight 28s linear infinite;
    }

    /* ==========================================================
       FAQ
       ========================================================== */
    .faq{
      display:flex;
      flex-direction:column;
      gap: 10px;
    }

    details{
      border-radius: 20px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.10);
      padding: 12px 14px;
    }

    summary{
      cursor:pointer;
      font-weight: 900;
      color: rgba(255,255,255,.88);
      list-style:none;
    }
    summary::-webkit-details-marker{ display:none; }

    details p{
      margin: 10px 0 0;
      color: rgba(255,255,255,.72);
      font-weight: 650;
      line-height: 1.6;
    }

    /* ==========================================================
       FOOTER
       ========================================================== */
    .site-footer{
      padding: 34px 0 30px;
      border-top: 1px solid rgba(255,255,255,.08);
      background: rgba(0,0,0,.20);
    }

    .footer-grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .footer-title{
      font-weight: 950;
      font-size: 18px;
    }
    .footer-subtitle{
      margin-top: 6px;
      color: rgba(255,255,255,.68);
      font-weight: 700;
    }

    .footer-socials{
      margin-top: 12px;
      display:flex;
      gap: 10px;
    }

    .social-btn{
      width: 44px;
      height: 44px;
      border-radius: 16px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .social-btn svg{ width: 22px; height: 22px; fill: rgba(255,255,255,.86); }

    .footer-copy{
      margin-top: 14px;
      color: rgba(255,255,255,.55);
      font-weight: 650;
      font-size: 13px;
      line-height: 1.5;
    }

    .footer-title-sm{
      font-weight: 950;
      margin-bottom: 8px;
    }

    .footer-links{
      display:flex;
      flex-direction:column;
      gap: 10px;
    }

    .footer-link{
      width: 100%;
      border: 0;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.88);
      padding: 12px 14px;
      border-radius: 18px;
      cursor:pointer;
      display:flex;
      gap: 10px;
      align-items:center;
      font-weight: 900;
      text-align:left;
    }

    .link-ico{
      width: 20px;
      height: 20px;
      fill: rgba(255,255,255,.86);
      flex-shrink: 0;
    }

    @media (min-width: 900px){
      .footer-grid{
        grid-template-columns: 1.2fr .8fr;
        align-items:start;
      }
    }

    /* ==========================================================
       MODALES
       ========================================================== */
    .modal{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.62);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 16px;
      z-index: 100;
    }
    .modal.open{ display:flex; }

    .modal-card{
      width: min(560px, 95vw);
      border-radius: 24px;
      background: rgba(20,20,28,.92);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 30px 90px rgba(0,0,0,.55);
      overflow:hidden;
    }

    .modal-head{
      padding: 16px 16px 10px;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 14px;
      border-bottom: 1px solid rgba(255,255,255,.08);
    }

    .modal-head h3{
      margin:0;
      font-weight: 950;
      font-size: 18px;
    }

    .modal-head p{
      margin: 6px 0 0;
      color: rgba(255,255,255,.68);
      font-weight: 650;
      line-height: 1.45;
      font-size: 13px;
    }

    .x{
      width: 44px;
      height: 44px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: #fff;
      font-size: 26px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    form{
      padding: 14px 16px 16px;
    }

    .success{
      display:none;
      padding: 12px 14px;
      border-radius: 18px;
      background: rgba(65,241,255,.12);
      border: 1px solid rgba(65,241,255,.22);
      color: rgba(255,255,255,.92);
      font-weight: 800;
      margin-bottom: 12px;
      line-height: 1.5;
    }
    .success.show{ display:block; }

    label{
      display:flex;
      flex-direction:column;
      gap: 6px;
      font-weight: 900;
      font-size: 13px;
      color: rgba(255,255,255,.86);
    }

    input, select, textarea{
      width: 100%;
      padding: 12px 14px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color: #fff;
      font-weight: 750;
      outline: none;
      font-family: inherit;
      font-size: 14px;
    }

    textarea{ min-height: 110px; resize: vertical; }

    .form-grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }

    .form-actions{
      margin-top: 12px;
      display:flex;
      flex-direction:column;
      gap: 10px;
    }

    .helper{
      color: rgba(255,255,255,.62);
      font-weight: 650;
      font-size: 13px;
      line-height: 1.5;
    }

    @media (min-width: 720px){
      .form-grid{
        grid-template-columns: 1fr 1fr;
      }
    }
  </style>
</head>

<body>

  <!-- ==========================================================
       HEADER
       ========================================================== -->
  <header>
    <div class="container">
      <div class="nav">

        <!-- Marca -->
        <div class="brand">
          <a href="index.html" aria-label="Ir al inicio">
            <img src="assets/logo.png" alt="Pi√±ata Colada" class="brand-logo" />
          </a>
        </div>

        <!-- Links desktop -->
        <nav class="nav-links" aria-label="Secciones">
          <a href="tamanos.html">Tama√±os</a>
          <a href="galeria.html">Galer√≠a</a>
          <a href="preguntas.html">Preguntas</a>
          <a href="contacto.html">Cotizar</a>
        </nav>

        <!-- CTA -->
        <div class="nav-cta">

          <button class="btn btn-ghost" id="btnWhats" type="button">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="#fff" d="M12 2a10 10 0 0 0-8.6 15.1L2 22l5-1.3A10 10 0 1 0 12 2Zm0 18a8 8 0 0 1-4.1-1.1l-.3-.2-2.9.8.8-2.8-.2-.3A8 8 0 1 1 12 20Zm4.6-5.7c-.2-.1-1.2-.6-1.4-.7-.2-.1-.4-.1-.6.1-.2.2-.7.7-.8.9-.1.2-.3.2-.5.1-.2-.1-1-.4-1.9-1.2-.7-.6-1.2-1.4-1.3-1.6-.1-.2 0-.4.1-.5l.4-.4c.1-.1.2-.3.3-.4.1-.1.1-.3 0-.5-.1-.1-.6-1.4-.8-1.9-.2-.5-.4-.4-.6-.4h-.5c-.2 0-.5.1-.7.4-.2.2-.9.9-.9 2.2s.9 2.5 1 2.7c.1.2 1.8 2.8 4.3 3.9.6.3 1.1.4 1.4.5.6.2 1.1.2 1.5.1.5-.1 1.2-.5 1.4-1 .2-.5.2-1 .1-1.1-.1-.1-.3-.2-.5-.3Z"/>
            </svg>
            WhatsApp
          </button>

          <button class="btn btn-primary" id="btnCotizarTop" type="button">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="#111" d="M12 2l1.4 5.1L18.5 9l-5.1 1.4L12 15.5l-1.4-5.1L5.5 9l5.1-1.9L12 2Zm7 11l.9 3.2 3.1.8-3.1.9-.9 3.1-.9-3.1-3.1-.9 3.1-.8.9-3.2Z"/>
            </svg>
            Cotizar
          </button>

          <!-- Hamburguesa -->
          <button class="menu-btn" id="menuBtn" type="button" aria-label="Abrir men√∫">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M4 7h16v2H4V7Zm0 8h16v2H4v-2Zm0-4h16v2H4v-2Z"/>
            </svg>
          </button>

        </div>
      </div>

      <!-- Men√∫ m√≥vil -->
      <div class="mobile-nav" id="mobileNav" aria-label="Men√∫ m√≥vil">
        <div class="mobile-links">
          <a href="tamanos.html">Tama√±os <span>‚Üí</span></a>
          <a href="galeria.html">Galer√≠a <span>‚Üí</span></a>
          <a href="preguntas.html">Preguntas <span>‚Üí</span></a>
          <a href="contacto.html">Cotizar <span>‚Üí</span></a>
        </div>

        <div class="mobile-cta">
          <button class="btn btn-ghost" id="btnWhatsMobile" type="button">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="#fff" d="M12 2a10 10 0 0 0-8.6 15.1L2 22l5-1.3A10 10 0 1 0 12 2Zm0 18a8 8 0 0 1-4.1-1.1l-.3-.2-2.9.8.8-2.8-.2-.3A8 8 0 1 1 12 20Zm4.6-5.7c-.2-.1-1.2-.6-1.4-.7-.2-.1-.4-.1-.6.1-.2.2-.7.7-.8.9-.1.2-.3.2-.5.1-.2-.1-1-.4-1.9-1.2-.7-.6-1.2-1.4-1.3-1.6-.1-.2 0-.4.1-.5l.4-.4c.1-.1.2-.3.3-.4.1-.1.1-.3 0-.5-.1-.1-.6-1.4-.8-1.9-.2-.5-.4-.4-.6-.4h-.5c-.2 0-.5.1-.7.4-.2.2-.9.9-.9 2.2s.9 2.5 1 2.7c.1.2 1.8 2.8 4.3 3.9.6.3 1.1.4 1.4.5.6.2 1.1.2 1.5.1.5-.1 1.2-.5 1.4-1 .2-.5.2-1 .1-1.1-.1-.1-.3-.2-.5-.3Z"/>
            </svg>
            Escribir por WhatsApp
          </button>

          <button class="btn btn-primary" id="btnCotizarMobile" type="button">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="#111" d="M12 2l1.4 5.1L18.5 9l-5.1 1.4L12 15.5l-1.4-5.1L5.5 9l5.1-1.9L12 2Zm7 11l.9 3.2 3.1.8-3.1.9-.9 3.1-.9-3.1-3.1-.9 3.1-.8.9-3.2Z"/>
            </svg>
            Cotizar ahora
          </button>
        </div>
      </div>

    </div>
  </header>

  <!-- ==========================================================
       MAIN
       ========================================================== -->
  <main>

    <!-- HERO -->
    <section class="hero">
      <div class="container">
        <div class="hero-grid">

          <div class="logo-wrap" aria-label="Logo Pi√±ata Colada">
            <div class="logo-inner">
              <img class="logo-img hit" src="assets/logo.png" alt="Logo Pi√±ata Colada" />
            </div>
          </div>

          <div>
            <div class="kicker">hechas a mano ‚Ä¢ dise√±os unicos ‚Ä¢ sorpresa asegurada</div>

            <h1>pi√±atas personalizadas que se roban el show üéâ</h1>

            <p class="lead">
              en <span class="highlight-brand">pi√±ata colada</span> creamos pi√±atas con un acabado increible, super fotogenicas y listas para tu fiesta.
              <br><br>
              elige tama√±o, dinos la idea‚Ä¶  
              <br>y nosotros <span class="highlight-magic">hacemos la magia</span>.
            </p>

            <div class="hero-actions">
              <button class="btn btn-primary" id="btnCotizarHero" type="button">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="#111" d="M12 2l1.4 5.1L18.5 9l-5.1 1.4L12 15.5l-1.4-5.1L5.5 9l5.1-1.9L12 2Zm7 11l.9 3.2 3.1.8-3.1.9-.9 3.1-.9-3.1-3.1-.9 3.1-.8.9-3.2Z"/>
                </svg>
                cotizar
              </button>

              <a class="btn btn-ghost" href="galeria.html">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path fill="#fff" d="M12 2l1.4 5.1L18.5 9l-5.1 1.4L12 15.5l-1.4-5.1L5.5 9l5.1-1.9L12 2Zm7 11l.9 3.2 3.1.8-3.1.9-.9 3.1-.9-3.1-3.1-.9 3.1-.8.9-3.2Z"/>
                </svg>
                ver galeria
              </a>
            </div>

            <div class="hero-badges">
              <div class="badge">üé® personalizadas</div>
              <div class="badge">üïí entregas por fecha</div>
              <div class="badge">üìç irapuato, gto.</div>
              <div class="badge">‚ú® tematicas: todo</div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- CTA r√°pido -->
    <section>
      <div class="container">
        <div class="section-title">
          <h2 class="section-title-highlight">elige tu tama√±o</h2>
          <p>te damos una base y ajustamos segun tu idea y nivel de detalle</p>
        </div>

        <div class="grid-3">

          <!-- S -->
          <article class="card" data-size="S - Sutil">
            <div class="size-row">
              <div>
                <p class="size-name">S ‚Äî sutil</p>
                <p class="size-sub">ideal para detalles, mesa de dulces o mini fiesta.</p>
              </div>

              <div class="pinata-icon" aria-hidden="true">
                <svg width="40" height="40" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M32 7c9 0 16 6.7 16 15 0 6.7-4.5 12.4-10.8 14.4V55c0 1.7-1.4 3-3.2 3h-4c-1.8 0-3.2-1.3-3.2-3V36.4C20.5 34.4 16 28.7 16 22c0-8.3 7-15 16-15Z" stroke="rgba(255,255,255,.82)" stroke-width="3"/>
                  <path d="M24 22h16" stroke="rgba(255,255,255,.62)" stroke-width="3" stroke-linecap="round"/>
                  <path d="M26 28h12" stroke="rgba(255,255,255,.62)" stroke-width="3" stroke-linecap="round"/>
                </svg>
              </div>
            </div>

            <div class="toggle" role="button" tabindex="0">
              <div>ver precios <span>(clic)</span></div>
              <div>Ôºã</div>
            </div>

            <div class="price">
              <b>desde:</b> $450 mxn<br>
              <b>incluye:</b> personalizacion + listones + acabados.<br>
              <b>tiempo:</b> 3‚Äì5 dias (segun agenda).
            </div>
          </article>

          <!-- M -->
          <article class="card" data-size="M - Colada">
            <div class="size-row">
              <div>
                <p class="size-name">M ‚Äî colada</p>
                <p class="size-sub">la mas pedida. perfecta para cumplea√±os y fotos.</p>
              </div>

              <div class="pinata-icon" aria-hidden="true">
                <svg width="46" height="46" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M32 6c10.2 0 18.5 7.6 18.5 17 0 7.4-5 13.7-12.5 15.8V55c0 2-1.6 3.5-3.6 3.5h-4.8c-2 0-3.6-1.5-3.6-3.5V38.8C18.5 36.7 13.5 30.4 13.5 23 13.5 13.6 21.8 6 32 6Z" stroke="rgba(255,255,255,.86)" stroke-width="3"/>
                  <path d="M22 23h20" stroke="rgba(255,255,255,.62)" stroke-width="3" stroke-linecap="round"/>
                  <path d="M24 30h16" stroke="rgba(255,255,255,.62)" stroke-width="3" stroke-linecap="round"/>
                  <path d="M26 36h12" stroke="rgba(255,255,255,.62)" stroke-width="3" stroke-linecap="round"/>
                </svg>
              </div>
            </div>

            <div class="toggle" role="button" tabindex="0">
              <div>ver precios <span>(clic)</span></div>
              <div>Ôºã</div>
            </div>

            <div class="price">
              <b>desde:</b> $700 mxn<br>
              <b>incluye:</b> mas volumen + mas detalle.<br>
              <b>tiempo:</b> 4‚Äì7 dias (segun complejidad).
            </div>
          </article>

          <!-- L -->
          <article class="card" data-size="L - Epica">
            <div class="size-row">
              <div>
                <p class="size-name">L ‚Äî epica</p>
                <p class="size-sub">impacto total. para eventos grandes y el momento wow.</p>
              </div>

              <div class="pinata-icon" aria-hidden="true">
                <svg width="52" height="52" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M32 5c11.4 0 20.5 8.3 20.5 18.5 0 8-5.6 14.9-14 17.2V55c0 2.2-1.8 4-4 4h-5c-2.2 0-4-1.8-4-4V40.7c-8.4-2.3-14-9.2-14-17.2C11.5 13.3 20.6 5 32 5Z" stroke="rgba(255,255,255,.90)" stroke-width="3"/>
                  <path d="M20 23h24" stroke="rgba(255,255,255,.62)" stroke-width="3" stroke-linecap="round"/>
                  <path d="M22 31h20" stroke="rgba(255,255,255,.62)" stroke-width="3" stroke-linecap="round"/>
                  <path d="M24 39h16" stroke="rgba(255,255,255,.62)" stroke-width="3" stroke-linecap="round"/>
                </svg>
              </div>
            </div>

            <div class="toggle" role="button" tabindex="0">
              <div>ver precios <span>(clic)</span></div>
              <div>Ôºã</div>
            </div>

            <div class="price">
              <b>desde:</b> $900 mxn<br>
              <b>incluye:</b> alto detalle + volumen extra.<br>
              <b>tiempo:</b> 7‚Äì10 dias (segun agenda).
            </div>
          </article>

        </div>

        <div class="note">
          <span class="highlight-magic">¬øquieres algo mas especifico?</span><br>
          elige <b>‚Äúdise√±o a tu tematica‚Äù</b> al cotizar y nos cuentas tu idea.
        </div>
      </div>
    </section>

    <!-- GALER√çA -->
    <section>
      <div class="container">
        <div class="section-title">
          <h2 class="section-title-highlight">galeria</h2>
          <p>ejemplos de estilos y tematicas (aqui vas a poner tus fotos reales)</p>
        </div>

        <div class="carousel-wrap">
          <div class="marquee">
            <div class="track" id="trackLeft"></div>
          </div>

          <div class="marquee">
            <div class="track" id="trackRight"></div>
          </div>
        </div>

        <div style="margin-top: 18px; display:flex; justify-content:center;">
          <button class="btn btn-primary" id="btnCotizarMid" type="button">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="#111" d="M12 2l1.4 5.1L18.5 9l-5.1 1.4L12 15.5l-1.4-5.1L5.5 9l5.1-1.9L12 2Zm7 11l.9 3.2 3.1.8-3.1.9-.9 3.1-.9-3.1-3.1-.9 3.1-.8.9-3.2Z"/>
            </svg>
            cotizar
          </button>
        </div>
      </div>
    </section>

    <!-- FAQ mini -->
    <section>
      <div class="container">
        <div class="section-title">
          <h2 class="section-title-highlight">preguntas rapidas</h2>
          <p>lo mas importante para que tu pi√±ata quede perfecta y llegue a tiempo</p>
        </div>

        <div class="faq">
          <details>
            <summary>¬øcon cuanta anticipacion debo pedir?</summary>
            <p>lo ideal es de 5 a 10 dias. en temporadas altas puede variar, asi que entre antes mejor.</p>
          </details>

          <details>
            <summary>¬øhacen de cualquier tematica?</summary>
            <p>si: personajes, deportes, peliculas, videojuegos, logos, nombres, etc.</p>
          </details>

          <details>
            <summary>¬øque incluye el precio?</summary>
            <p>incluye dise√±o, materiales, armado y acabados. el relleno (dulces) se cotiza aparte si lo requieres.</p>
          </details>
        </div>
      </div>
    </section>

    <!-- CONTACTO CTA -->
    <section>
      <div class="container">
        <div class="section-title">
          <h2 class="section-title-highlight">¬ølista tu cotizacion?</h2>
          <p>te toma menos de 1 minuto. en cuanto nos llegue, te respondemos por whatsapp.</p>
        </div>

        <div style="display:flex; gap: 12px; flex-wrap: wrap; justify-content:center;">
          <button class="btn btn-primary" id="btnCotizarBottom" type="button">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="#111" d="M12 2l1.4 5.1L18.5 9l-5.1 1.4L12 15.5l-1.4-5.1L5.5 9l5.1-1.9L12 2Zm7 11l.9 3.2 3.1.8-3.1.9-.9 3.1-.9-3.1-3.1-.9 3.1-.8.9-3.2Z"/>
            </svg>
            cotizar
          </button>

          <button class="btn btn-ghost" id="btnWhats2" type="button">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path fill="#fff" d="M12 2a10 10 0 0 0-8.6 15.1L2 22l5-1.3A10 10 0 1 0 12 2Zm0 18a8 8 0 0 1-4.1-1.1l-.3-.2-2.9.8.8-2.8-.2-.3A8 8 0 1 1 12 20Zm4.6-5.7c-.2-.1-1.2-.6-1.4-.7-.2-.1-.4-.1-.6.1-.2.2-.7.7-.8.9-.1.2-.3.2-.5.1-.2-.1-1-.4-1.9-1.2-.7-.6-1.2-1.4-1.3-1.6-.1-.2 0-.4.1-.5l.4-.4c.1-.1.2-.3.3-.4.1-.1.1-.3 0-.5-.1-.1-.6-1.4-.8-1.9-.2-.5-.4-.4-.6-.4h-.5c-.2 0-.5.1-.7.4-.2.2-.9.9-.9 2.2s.9 2.5 1 2.7c.1.2 1.8 2.8 4.3 3.9.6.3 1.1.4 1.4.5.6.2 1.1.2 1.5.1.5-.1 1.2-.5 1.4-1 .2-.5.2-1 .1-1.1-.1-.1-.3-.2-.5-.3Z"/>
            </svg>
            whatsapp
          </button>
        </div>
      </div>
    </section>

  </main>

  <!-- ==========================================================
       FOOTER
       ========================================================== -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-grid">

        <div class="footer-col">
          <div class="footer-brand">
            <div class="footer-title">pi√±ata colada</div>
            <div class="footer-subtitle">pi√±atas personalizadas ‚Ä¢ irapuato, gto</div>
          </div>

          <div class="footer-socials">
            <a class="social-btn" href="#" target="_blank" rel="noopener" aria-label="Facebook">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M22 12.07C22 6.48 17.52 2 11.93 2S1.86 6.48 1.86 12.07c0 5.03 3.66 9.2 8.44 9.93v-7.03H7.76v-2.9h2.54V9.85c0-2.5 1.49-3.88 3.77-3.88 1.09 0 2.23.2 2.23.2v2.46h-1.26c-1.24 0-1.63.77-1.63 1.56v1.88h2.77l-.44 2.9h-2.33V22c4.78-.73 8.44-4.9 8.44-9.93Z"/>
              </svg>
            </a>

            <a class="social-btn" href="#" target="_blank" rel="noopener" aria-label="Instagram">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M7.5 2h9A5.5 5.5 0 0 1 22 7.5v9A5.5 5.5 0 0 1 16.5 22h-9A5.5 5.5 0 0 1 2 16.5v-9A5.5 5.5 0 0 1 7.5 2Zm0 2A3.5 3.5 0 0 0 4 7.5v9A3.5 3.5 0 0 0 7.5 20h9a3.5 3.5 0 0 0 3.5-3.5v-9A3.5 3.5 0 0 0 16.5 4h-9Z"/>
                <path d="M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10Zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6Z"/>
                <path d="M17.5 6.4a1.1 1.1 0 1 1 0 2.2 1.1 1.1 0 0 1 0-2.2Z"/>
              </svg>
            </a>

            <a class="social-btn" href="#" target="_blank" rel="noopener" aria-label="TikTok">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M16.5 2h-2.9v13.2c0 1.6-1.3 2.8-2.8 2.8-1.6 0-2.8-1.3-2.8-2.8s1.3-2.8 2.8-2.8c.4 0 .8.1 1.1.2V9.1c-.4-.1-.8-.1-1.1-.1-3 0-5.4 2.4-5.4 5.4S7.8 20 10.8 20s5.4-2.4 5.4-5.4V7.7c1.1 1.2 2.6 2 4.3 2.2V7.1c-2.1-.3-3.7-2-4-4.1Z"/>
              </svg>
            </a>
          </div>

          <div class="footer-copy">
            ¬© <span id="year"></span> pi√±ata colada. todos los derechos reservados.
          </div>
        </div>

        <div class="footer-col footer-legal">
          <div class="footer-title-sm">legal</div>

          <div class="footer-links">
            <button class="footer-link" id="btnTerms" type="button">
              <svg class="link-ico" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M6 2h9l5 5v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2Zm8 1.5V8h4.5L14 3.5ZM8 12h8v2H8v-2Zm0 4h8v2H8v-2Z"/>
              </svg>
              <span>terminos y condiciones</span>
            </button>

            <button class="footer-link" id="btnPrivacy" type="button">
              <svg class="link-ico" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 2a5 5 0 0 0-5 5v3H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V7a5 5 0 0 0-5-5Zm-3 8V7a3 3 0 1 1 6 0v3H9Z"/>
              </svg>
              <span>aviso de privacidad</span>
            </button>
          </div>
        </div>

      </div>
    </div>
  </footer>

  <!-- ==========================================================
       MODAL: COTIZACION
       ========================================================== -->
  <div class="modal" id="modalCot">
    <div class="modal-card" role="dialog" aria-modal="true" aria-label="Formulario de cotizaci√≥n">
      <div class="modal-head">
        <div>
          <h3>realizar cotizacion</h3>
          <p>completa la informacion. al enviar, se guardara en google sheets.</p>
        </div>
        <button class="x" aria-label="Cerrar" type="button">√ó</button>
      </div>

      <form id="quoteForm">
        <div class="success" id="successMsg">
          muchas gracias por tu solicitud, nos pondremos en contacto contigo.
        </div>

        <div class="form-grid">
          <label>
            nombre del cliente
            <input name="nombre" required placeholder="ej. ana lopez" autocomplete="name" />
          </label>

          <label>
            tipo de pi√±ata
            <select name="tamano" required>
              <option value="">selecciona‚Ä¶</option>
              <option>s ‚Äî sutil</option>
              <option>m ‚Äî colada</option>
              <option>l ‚Äî epica</option>
              <option>dise√±o a tu tematica</option>
            </select>
          </label>

          <label>
            ¬øde que sera tu pi√±ata?
            <input name="tema" required placeholder="ej. personaje, tematica, logo, etc." />
          </label>

          <label>
            fecha en que se necesita
            <input type="date" name="fecha" required />
          </label>

          <label>
            tipo de evento
            <input name="evento" required placeholder="ej. cumplea√±os, despedida, baby shower‚Ä¶" />
          </label>

          <label>
            telefono (10 digitos)
            <input name="telefono" required placeholder="ej. 4491234567" inputmode="numeric" autocomplete="tel" />
          </label>
        </div>

        <label style="margin-top: 12px;">
          detalles extra
          <textarea name="detalles" required placeholder="colores, referencias, nombre, estilo, etc."></textarea>
        </label>

        <div class="form-actions">
          <div class="helper">
            *al enviar, se genera un folio automatico tipo <b>cot-0001</b>.
          </div>

          <button class="btn btn-primary" type="submit" id="sendBtn">
            enviar solicitud
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- ==========================================================
       MODAL: LEGAL
       ========================================================== -->
  <div class="modal" id="modalLegal">
    <div class="modal-card" role="dialog" aria-modal="true" aria-label="Contenido legal">
      <div class="modal-head">
        <div>
          <h3 id="legalTitle">legal</h3>
          <p id="legalSubtitle">informacion importante.</p>
        </div>
        <button class="x" aria-label="Cerrar" type="button">√ó</button>
      </div>

      <div style="padding: 18px; color: rgba(255,255,255,.75); font-weight: 650; line-height: 1.7;">
        <div id="legalBody"></div>
      </div>
    </div>
  </div>

  <script>
    /* ==========================================================
       1) CONFIG
       ========================================================== */

    const APPS_SCRIPT_WEBAPP_URL = "https://script.google.com/macros/s/AKfycbz96sHgkrokXKph3cPaOsMHeQHmUodxEKK0UhYRPZ6ccZ15mQsDklaAyu37RGqLAyVd/exec";
    const AUTO_CLOSE_MS = 2500;

    /* ==========================================================
       2) HELPERS
       ========================================================== */
    const $ = (sel) => document.querySelector(sel);
    $("#year").textContent = new Date().getFullYear();

    function lockScroll(lock){
      document.body.style.overflow = lock ? "hidden" : "";
    }

    function openModal(modalId){
      const modal = document.getElementById(modalId);
      if(!modal) return;
      modal.classList.add("open");
      lockScroll(true);
    }

    function closeModal(modalId){
      const modal = document.getElementById(modalId);
      if(!modal) return;
      modal.classList.remove("open");
      lockScroll(false);
    }

    function closeAllModals(){
      document.querySelectorAll(".modal.open").forEach(m => m.classList.remove("open"));
      lockScroll(false);
    }

    /* ==========================================================
       3) MENU MOVIL
       ========================================================== */
    const menuBtn = $("#menuBtn");
    const mobileNav = $("#mobileNav");

    if(menuBtn && mobileNav){
      menuBtn.addEventListener("click", () => {
        mobileNav.classList.toggle("open");
        menuBtn.setAttribute("aria-label", mobileNav.classList.contains("open") ? "Cerrar men√∫" : "Abrir men√∫");
      });
    }

    /* ==========================================================
       4) WHATSAPP
       ========================================================== */
    const WHATS_NUMBER = "5214491939486";
    const WHATS_TEXT = encodeURIComponent("hola! quiero una cotizacion para una pi√±ata personalizada!");
    function openWhats(){
      window.open(`https://wa.me/${WHATS_NUMBER}?text=${WHATS_TEXT}`, "_blank");
    }

    ["btnWhats", "btnWhats2", "btnWhatsMobile"].forEach(id => {
      const el = document.getElementById(id);
      if(el) el.addEventListener("click", openWhats);
    });

    /* ==========================================================
       5) TOGGLES TAMA√ëOS
       ========================================================== */
    document.querySelectorAll(".card").forEach(card => {
      const toggle = card.querySelector(".toggle");
      if(!toggle) return;

      const toggleOpen = () => card.classList.toggle("open");
      toggle.addEventListener("click", toggleOpen);

      toggle.addEventListener("keydown", (e) => {
        if(e.key === "Enter" || e.key === " "){
          e.preventDefault();
          toggleOpen();
        }
      });
    });

    /* ==========================================================
       6) GALERIA
       ========================================================== */
    const galleryTop = [
      "assets/gallery/01.jpg",
      "assets/gallery/02.jpg",
      "assets/gallery/03.jpg",
      "assets/gallery/04.jpg",
      "assets/gallery/05.jpg",
    ];

    const galleryBottom = [
      "assets/gallery/06.jpg",
      "assets/gallery/07.jpg",
      "assets/gallery/08.jpg",
      "assets/gallery/09.jpg",
      "assets/gallery/10.jpg",
    ];

    function fillTrack(trackId, images){
      const track = document.getElementById(trackId);
      if(!track) return;

      const items = [...images, ...images]; // duplicado para loop infinito

      track.innerHTML = items.map(src => `
        <div class="shot">
          <img src="${src}" alt="Pi√±ata personalizada">
        </div>
      `).join("");
    }

    fillTrack("trackLeft", galleryTop);
    fillTrack("trackRight", galleryBottom);

    /* ==========================================================
       7) MODALES
       ========================================================== */
    ["btnCotizarTop","btnCotizarHero","btnCotizarMid","btnCotizarBottom","btnCotizarMobile"].forEach(id => {
      const el = document.getElementById(id);
      if(el) el.addEventListener("click", () => openModal("modalCot"));
    });

    const btnTerms = $("#btnTerms");
    const btnPrivacy = $("#btnPrivacy");
    const legalTitle = $("#legalTitle");
    const legalSubtitle = $("#legalSubtitle");
    const legalBody = $("#legalBody");

    const TERMS_HTML = `
      <h4 style="margin:0 0 10px; color:#fff;">terminos y condiciones</h4>
      <p>al solicitar una cotizacion en pi√±ata colada, aceptas que la informacion enviada se use unicamente para contactarte y dar seguimiento a tu pedido.</p>
      <p>los tiempos de entrega dependen de agenda y complejidad del dise√±o. los precios pueden variar segun detalles, tama√±o y urgencia.</p>
      <p>para confirmar pedido puede solicitarse anticipo.</p>
    `;

    const PRIVACY_HTML = `
      <h4 style="margin:0 0 10px; color:#fff;">aviso de privacidad</h4>
      <p>la informacion proporcionada (nombre, telefono y detalles del pedido) sera utilizada unicamente para fines de cotizacion y contacto.</p>
      <p>no compartimos tu informacion con terceros.</p>
      <p>puedes solicitar la eliminacion de tus datos en cualquier momento.</p>
    `;

    if(btnTerms){
      btnTerms.addEventListener("click", () => {
        legalTitle.textContent = "terminos y condiciones";
        legalSubtitle.textContent = "lee esta informacion antes de solicitar.";
        legalBody.innerHTML = TERMS_HTML;
        openModal("modalLegal");
      });
    }

    if(btnPrivacy){
      btnPrivacy.addEventListener("click", () => {
        legalTitle.textContent = "aviso de privacidad";
        legalSubtitle.textContent = "como usamos tu informacion.";
        legalBody.innerHTML = PRIVACY_HTML;
        openModal("modalLegal");
      });
    }

    document.querySelectorAll(".modal").forEach(modal => {
      modal.addEventListener("click", (e) => {
        if(e.target === modal){
          modal.classList.remove("open");
          lockScroll(false);
        }
      });

      const x = modal.querySelector(".x");
      if(x){
        x.addEventListener("click", () => {
          modal.classList.remove("open");
          lockScroll(false);
        });
      }
    });

    document.addEventListener("keydown", (e) => {
      if(e.key === "Escape") closeAllModals();
    });

    /* ==========================================================
       8) FORMULARIO (OBLIGATORIO + MAYUSCULAS + TEL 10)
       ========================================================== */
    const quoteForm  = $("#quoteForm");
    const successMsg = $("#successMsg");
    const submitBtn  = $("#sendBtn");

    const inputNombre   = quoteForm?.querySelector('[name="nombre"]');
    const inputTelefono = quoteForm?.querySelector('[name="telefono"]');

    if(inputNombre){
      inputNombre.addEventListener("input", () => {
        inputNombre.value = inputNombre.value.toUpperCase();
      });
    }

    if(inputTelefono){
      inputTelefono.setAttribute("maxlength", "10");
      inputTelefono.addEventListener("input", () => {
        let digits = inputTelefono.value.replace(/\D/g, "");
        digits = digits.slice(0, 10);
        inputTelefono.value = digits;
      });
    }

    if(quoteForm){
      quoteForm.addEventListener("submit", async (e) => {
        e.preventDefault();

        if(!APPS_SCRIPT_WEBAPP_URL){
          alert("‚ö†Ô∏è falta configurar la url del webapp de apps script.");
          return;
        }

        const formData = new FormData(quoteForm);

        const payload = {
          nombre: (formData.get("nombre") || "").trim().toUpperCase(),
          tamano: (formData.get("tamano") || "").trim(),
          tema: (formData.get("tema") || "").trim(),
          fecha: (formData.get("fecha") || "").trim(),
          evento: (formData.get("evento") || "").trim(),
          telefono: (formData.get("telefono") || "").trim(),
          detalles: (formData.get("detalles") || "").trim()
        };

        for(const key in payload){
          if(!payload[key]){
            alert("‚ö†Ô∏è por favor llena todos los campos.");
            return;
          }
        }

        if(!/^\d{10}$/.test(payload.telefono)){
          alert("‚ö†Ô∏è el telefono debe tener exactamente 10 digitos.");
          inputTelefono?.focus();
          return;
        }

        if(submitBtn){
          submitBtn.disabled = true;
          submitBtn.style.opacity = ".65";
          submitBtn.textContent = "enviando‚Ä¶";
        }

        if(successMsg) successMsg.classList.remove("show");

        try{
          const params = new URLSearchParams(payload);

          const res = await fetch(APPS_SCRIPT_WEBAPP_URL, {
            method: "POST",
            body: params
          });

          const text = await res.text();
          console.log("RAW:", text);

          let data;
          try{
            data = JSON.parse(text);
          }catch(e){
            throw new Error("apps script devolvio algo que no es json.");
          }

          if(!data.ok){
            throw new Error(data.error || "error desconocido");
          }

          if(successMsg){
            successMsg.innerHTML = `
              ‚úÖ gracias! recibimos tu cotizacion.<br>
              <span style="opacity:.85">tu folio es: <b>${data.folio}</b></span><br>
              <span style="opacity:.75">te contactamos muy pronto.</span>
            `;
            successMsg.classList.add("show");
          }

          quoteForm.reset();

          setTimeout(() => {
            closeModal("modalCot");
            if(successMsg) successMsg.classList.remove("show");
          }, AUTO_CLOSE_MS);

        }catch(err){
          alert("‚ùå no se pudo enviar tu cotizacion.\n\n" + err.message);
        }finally{
          if(submitBtn){
            submitBtn.disabled = false;
            submitBtn.style.opacity = "";
            submitBtn.textContent = "enviar solicitud";
          }
        }
      });
    }
  </script>

</body>
</html>
